import{x as I,h as o,a as N,E as A,H as S,y as D,z as R,A as v,B as h,C as p,D as g,U,F as x,G as F,I as C,J as y,K as H,g as L,s as O}from"./D7EuGJBc.js";import{s as k,g as q}from"./Ceic5baR.js";function B(s,a,n=!1){o&&N();var e=s,r=null,t=null,u=U,E=n?A:0,l=!1;const T=(c,i=!0)=>{l=!0,b(i,c)},b=(c,i)=>{if(u===(u=c))return;let d=!1;if(o){const m=e.data===S;!!u===m&&(e=D(),R(e),v(!1),d=!0)}u?(r?h(r):i&&(r=p(()=>i(e))),t&&g(t,()=>{t=null})):(t?h(t):i&&(t=p(()=>i(e))),r&&g(r,()=>{r=null})),d&&v(!0)};I(()=>{l=!1,a(T),l||b(null,null)},E),o&&(e=x)}let f=!1,_=Symbol();function G(s,a,n){const e=n[a]??(n[a]={store:null,source:H(void 0),unsubscribe:y});if(e.store!==s&&!(_ in n))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=y;else{var r=!0;e.unsubscribe=k(s,t=>{r?e.source.v=t:O(e.source,t)}),r=!1}return s&&_ in n?q(s):L(e.source)}function J(){const s={};function a(){F(()=>{for(var n in s)s[n].unsubscribe();C(s,_,{enumerable:!1,value:!0})})}return[s,a]}function K(s){var a=f;try{return f=!1,[s(),f]}finally{f=a}}export{G as a,K as c,B as i,J as s};
